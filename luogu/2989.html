<!DOCTYPE html>
<html class="no-js">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title> P2989 [USACO10MAR]对速度的需要Need For Speed - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1555852686:tQx6TdIVrSaF7S950arKv1LM/yaBN57oI9gZ1JbE9gE=">
<link rel="stylesheet" href="https://cdn.luogu.org/css/amazeui.min.css"/>
<link rel="stylesheet" href="https://cdn.luogu.org/css/katex.min.css"/>
<link rel="stylesheet" href="https://cdn.luogu.org/css/luogu3.css?ver=20190102">
<link rel="stylesheet" href="https://cdn.luogu.org/css/highlight_tomorrow.css">
<link rel="stylesheet" href="https://cdn.luogu.org/markdown-palettes/markdown-palettes.css?ver=20190219">
<script src="https://cdn.luogu.org/js/jquery-2.1.1.min.js"></script>
<script src="https://cdn.luogu.org/js/luogu3_pre.js?ver=20190101"></script>
<link rel="shortcut icon" type="image/x-icon" href="https://cdn.luogu.org/images/favicon3.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.org/fe/loader.css?ver=20190417">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentUser%22%3Anull%2C%22currentTemplate%22%3A%22Excited%22%2C%22currentData%22%3A%7B%22shortHeader%22%3Afalse%2C%22pageName%22%3A%22%5Cu9898%5Cu76ee%5Cu8be6%5Cu60c5%22%7D%2C%22currentMeta%22%3A%7B%22title%22%3A%22%20P2989%20%5BUSACO10MAR%5D%5Cu5bf9%5Cu901f%5Cu5ea6%5Cu7684%5Cu9700%5Cu8981Need%20For%20Speed%22%7D%7D"));</script>
<script>window._release = '20190417';</script>
<script src="https://cdn.luogu.org/fe/loader.js?ver=20190417" charset="utf-8" defer></script>
</head>
<body>
<div id="app-header"></div>
<nav id="app-sidenav"></nav>
<div id="app-body"></div>
<script>
    function scrollToId (id) {
        $('html, body').animate({
            scrollTop: ($('#' + id).offset().top)
        }, 500);
    }
</script>
<style>
    .lg-toolbar {
        display: none;
    }

    #app-body { /* Unused in fallback FE */
        display: none;
    }

    #app-body-new{
        display: block;
        margin-bottom: 2em;
        position: relative;
        box-sizing: border-box;
        max-width: 100%;
    }

    @media (min-width: 576px) {
        #app-body-new {
            margin-left: 70px;
        }
    }

    code {
        font-family: monospace, "Courier New";
    }

</style>
<div id="app-body-new">
<div class="lg-toolbar" data-am-sticky>
<h1><a href="/recordnew/lists?uid=&pid=P2989" target="_blank"><strong class=""><i class="am-icon-minus"></i></strong></a> P2989 [USACO10MAR]对速度的需要Need For Speed</h1>
</div>
<div class="am-g lg-main-content">
<div class="am-u-md-4 lg-right" name="problemright">
<section class="am-panel am-panel-default lg-summary" id="psummary">
<div class="lg-summary-content">
<ul class="am-list am-list-static lg-summary-list">
<li>
<ul class="am-avg-sm-2"><li><span class="lg-bignum-num">46<small></small></span><span class="lg-bignum-text">通过</span></li><li><span class="lg-bignum-num">111<small></small></span><span class="lg-bignum-text">提交</span></li></ul>
</li>
<li>
<strong>题目提供者</strong>
<span class="lg-right"><a class='lg-fg-gray' href="/space/show?uid=20" target="_blank">FarmerJohn2</a></span>
</li>
<li>
<strong>评测方式</strong>
<span class="lg-right"><b>云端评测</b></span>
</li>
<li><strong>标签</strong>
<span class="lg-tag am-badge am-radius lg-bg-bluelight" data-tagid="46">USACO</span>
<span class="lg-tag am-badge am-radius lg-bg-green" data-tagid="27">2010</span>
<style>.lg-tag { cursor: pointer; }</style>
<script>
                                $(".lg-tag").click(function() {
                                    window.open("/problemnew/lists?tag=" + $(this).attr('data-tagid'));
                                })
                            </script>
</li>
<li><strong>难度</strong>
<span class="lg-right"><span class="am-badge am-radius lg-bg-bluelight">提高+/省选-</span></span>
</li>
<li><strong>时空限制</strong>
<span class="lg-right">1000ms / 128MB</span>
</li>
</ul>
</div>
<p>
<button class="am-btn am-btn-danger am-btn-sm" id="submit" pid="P2989">
<i class="am-icon-paper-plane"></i> 提交
</button>
<a target="_blank" href="/problemnew/solution/P2989" class="am-btn am-btn-primary am-btn-sm">
<i class="am-icon-book"></i> 题解
</a>
<a data-pjax href="/recordnew/lists?pid=P2989" class="am-btn am-btn-primary am-btn-sm" title="查看本题提交记录">
<i class="am-icon-pie-chart"></i>
</a>
<button class="am-btn am-btn-primary am-btn-sm lg-pointer" name="showtag" title="显示算法标签">
<i class="am-icon-tags"></i>
</button>
</p>
<li>提示：收藏到任务计划后，可在首页查看。</li>
<p>
<a class="am-btn am-btn-danger am-btn-sm" href="/fe/problem/P2989" target="_blank">体验新版界面</a>
</p>
</section>
<section class="am-panel am-panel-default lg-summary">
<h2>最新讨论
<a onclick="$('#discuss-lists').show();$(this).hide();" class="am-btn am-btn-primary am-btn-sm lg-right" title="查看本题讨论">
显示
</a>
</h2>
<ul class="am-list am-list-static lg-summary-list" style="display: none" id="discuss-lists">
<li><a data-pjax href="/discuss/show?postid=105654" class="am-padding-0">翻译有误</a>
</li>
<li><a data-pjax href="/discuss/show?postid=102780" class="am-padding-0">题意</a>
</li>
<li><a data-pjax href="/discuss/show?postid=25550" class="am-padding-0">全题翻译</a>
</li>
<li><a data-pjax href="/discuss/show?postid=25546" class="am-padding-0">大致题意（英语不好……）</a>
</li>
<div style="overflow: auto">
<a data-pjax href="/discuss/lists?forumname=P2989" class="am-btn am-btn-primary am-btn-sm lg-right">进入讨论版</a>
</div>
</ul>
</section>
<section class="am-panel am-panel-default lg-summary am-hide-sm">
<h2>推荐的相关题目
<a onclick="$('#recommendation-list').show();$(this).hide();" class="am-btn am-btn-primary am-btn-sm lg-right" title="查看推荐题目">
显示
</a>
</h2>
<ul class="am-list am-list-static lg-summary-list" id="recommendation-list" style="display: none">
<li>
<a class='colored' href="/problemnew/show/P1758" target="_blank"><b>P1758</b> [NOI2009]管道取珠</a>
</li>
<li>
<a class='colored' href="/problemnew/show/P2906" target="_blank"><b>P2906</b> [USACO08OPEN]牛的街区Cow Neighborhoods</a>
</li>
<li>
<a class='colored' href="/problemnew/show/P4149" target="_blank"><b>P4149</b> [IOI2011]Race</a>
</li>
<li>
<a class='colored' href="/problemnew/show/P1768" target="_blank"><b>P1768</b> 天路</a>
</li>
<li>
<a class='colored' href="/problemnew/show/P2988" target="_blank"><b>P2988</b> [USACO10MAR]考试Test Taking</a>
</li>
</ul>
</section>
</div>
<div class="am-u-md-8 lg-right" name="problemleft">
<div class="lg-content-left">
<div class="lg-article am-g">
<h2>题意翻译</h2>
<p>Bassie正在为即将到来的赛车比赛作准备。</p>
<p>她有一辆赛车，重为M，且可以提供F的力。</p>
<p>现在她想要给这辆赛车安装一些零件（总共有N个零件），每个零件具有属性$M_i$和$F_i$，表示其重量以及可以提供的力。</p>
<p>设$X_i = 1\text{或}0$，表示第i个零件选或不选。</p>
<p>最大化$\frac{F+\sum_{i=1}^{n}X_i \times F_i}{M+\sum_{i=1}^{n}X_i \times M_i}$;</p>
<p>在此基础上最小化$\sum_{i=1}^{n}X_i \times M_i + M$。</p>
<p>输入格式：</p>
<p>第一行是三个用空格分开的数F,M,N</p>
<p>接下来N行，每行一个数，第i+1行的两个数代表$F_i$和$M_i$</p>
<p>输出格式：</p>
<p>输出最终的，按照原始顺序排好序的方案$\{i | X_i = 1\}$ ，特别的，若Bassie不需要给这辆车安装零件，输出&quot;None&quot;（没有双引号）。</p>
<p>$N \le 10000 $</p>
<p>$M,M_i\le1000$</p>
<p>$F,F_i \le 1,000,000 $</p>
<p>感谢@tyqtyq 提供的翻译</p>
<h2>题目背景</h2>
<h2>题目描述</h2>
<p>Bessie is preparing her race car for the upcoming Grand Prix, but she wants to buy some extra parts to improve the car's performance. Her race car currently has mass M (1 &lt;= M &lt;= 1,000) and is able to push itself forward with a force of F (1 &lt;= F &lt;= 1,000,000). The Race Car Performance Store has N (1 &lt;= N &lt;= 10,000) parts</p>
<p>conveniently numbered 1..N. Bessie can buy as many or as few parts as she wishes though the store stocks no more than one instance of each part.</p>
<p>Part P_i adds force F_i (1 &lt;= F_i &lt;= 1,000,000) and has mass</p>
<p>M_i (1 &lt;= M_i &lt;= 1,000). Newton's Second Law decrees that F =</p>
<p>MA, where F is force, M is mass, and A is acceleration. If Bessie wants to maximize the total acceleration of her race car (and</p>
<p>minimize the mass otherwise), which extra parts should she choose?</p>
<p>Consider a race car with initial F=1500 and M=100. Four parts are available for enhancement:</p>
<p>i F_i M_i</p>
<p>1 250 25</p>
<p>2 150 9</p>
<p>3 120 5</p>
<p>4 200 8</p>
<p>Adding just part 2, e.g., would result in an acceleration of</p>
<p>(1500+150)/(100+9) = 1650/109 = 15.13761. </p>
<p>Below is a chart of showing the acceleration for all possible </p>
<p>combinations of adding/not-adding the four parts (in column one, 1=part added, 0=part not added): </p>
<p>Parts Aggregate Aggregate</p>
<p>1234 F M F/M</p>
<p>0000 1500 100 15.0000</p>
<p>0001 1700 108 15.7407</p>
<p>0010 1620 105 15.4286</p>
<p>0011 1820 113 16.1062</p>
<p>0100 1650 109 15.1376</p>
<p>0101 1850 117 15.8120</p>
<p>0110 1770 114 15.5263</p>
<p>0111 1970 122 16.1475 &lt;-- highest F/M </p>
<p>1000 1750 125 14.0000</p>
<p>1001 1950 133 14.6617</p>
<p>1010 1870 130 14.3846</p>
<p>1011 2070 138 15.0000</p>
<p>1100 1900 134 14.1791</p>
<p>1101 2100 142 14.7887</p>
<p>1110 2020 139 14.5324</p>
<p>1111 2220 147 15.1020</p>
<p>Thus, the best additional part combination is parts 2, 3, and 4.</p>
<h2>输入输出格式</h2>
<strong>输入格式：</strong><br>
<p><p>* Line 1: Three space-separated integers: F, M, and N</p>
<p>* Lines 2..N+1: Line i+1 contains two space separated integers: F_i and M_i</p></p>
<strong>输出格式：</strong><br>
<p><p>* Lines 1..P: The index values of P extra parts, one per line, that Bessie should add to her racecar. If she should not add any, output 'NONE' (without quotes). The output should be given in increasing order, so if the optimal set of parts is {2,4,6,7}, then the output should be in the order 2,4,6,7 and not, for example, 4,2,7,6. Solutions will be unique.</p></p>
<h2>输入输出样例</h2>
<div class="am-g">
<div class="am-u-md-6 copy-region">
<strong>输入样例#1：</strong>
<a class="am-badge am-radius lg-bg-orange sample-copy">复制</a>
<pre>1500 100 4 
250 25 
150 9 
120 5 
200 8 
</pre>
</div>
<div class="am-u-md-6 copy-region">
<strong>输出样例#1：</strong>
<a class="am-badge am-radius lg-bg-orange sample-copy">复制</a>
<pre>2 
3 
4 
</pre>
</div>
</div>
</div>
<div class='lg-article-sub am-g' id="sub"></div>
</div>
</div>
</div>
<div class="am-modal am-modal-prompt" tabindex="-1" id="confirm">
<div class="am-modal-dialog">
<div class="am-modal-hd" id="memtitle">提示</div>
<div class="am-modal-bd" id="memadmin">
标程仅供做题后或实在无思路时参考。<br>
请自觉、自律地使用该功能并请对自己的学习负责。<br>
如果发现恶意抄袭标程，将按照I类违反进行处理。<br>
</div>
<div class="am-modal-footer">
<span class="am-modal-btn" data-am-modal-cancel>取消</span>
<span class="am-modal-btn" data-am-modal-confirm>确定</span>
</div>
</div>
</div>
<script>
        $(document).ready(function () {
            $("#expandstd").click(function () {
                $('#confirm').modal({
                    relatedTarget: this,
                    onConfirm: function (e) {
                        $("#stdcode").slideDown();
                        $("#expandstd").hide();
                    }
                });
            });
            $("#submit").click(
                function () {
                    hide_artile();
                    $(document).scrollTop($(document).scrollTop() - 80);
                    var pid = $(this).attr("pid");
                    $.get("/problem/ajax_submit?pid=" + pid, function (data) {
                        var arr = eval('(' + data + ')');
                        if (arr['code'] == 201) {
                            $('.lg-article-sub').html(arr['more']['html']);
                        }
                        else if (arr['code'] == 200) {

                        }
                        else {
                            if (arr['code'] == 0 || arr['code'] == -3) {
                                backarticle();
                            }
                            show_alert("提交失败", arr['message']);
                        }
                    });
                }
            );
            $("button[title].am-btn,a[title].am-btn").poshytip({
                className: 'tip-twitter',
                showTimeout: 1,
                alignTo: 'target',
                alignX: 'center',
                alignY: 'bottom'
            });
            $('[name=showtag]').click(function () {
                $('.am-badge.am-hide').removeClass('am-hide');
            });
            $(".sample-copy").click(function() {
                var element = $(this).parents(".copy-region").find("pre");
                var text = $(element).text();
                var $temp = $("<textarea>");
                $("body").append($temp);
                $temp.val(text).select();
                document.execCommand("copy");
                $temp.remove();
                $(this).text("复制成功").removeClass("lg-bg-orange");

                var e = this;
                setTimeout(function() {
                    $(e).text("复制").addClass("lg-bg-orange");
                }, 500);
            });
        });
    </script>
</div>
<footer id="app-footer"></footer>
<div class="am-modal am-modal-alert" tabindex="-1" id="lg-alert">
<div class="am-modal-dialog">
<div class="am-modal-hd" id="lg-alert-title"></div>
<div class="am-modal-bd" id="lg-alert-message"></div>
<div class="am-modal-footer">
<span class="am-modal-btn">确定</span>
</div>
</div>
</div>
<script src="/js/ace/ace.js"></script>
<script src="https://cdn.luogu.org/js/vendor.js" data-manual></script>
<script src="https://cdn.luogu.org/js/jsmind.js" data-manual></script>
<script src="https://cdn.luogu.org/js/amazeui.min.js"></script>
<script src="https://cdn.luogu.org/js/highcharts.js"></script>
<script src="https://cdn.luogu.org/js/highcharts-more.js"></script>
<script src="/static/katex/katex.min.js"></script>
<script src="/static/katex/contrib/auto-render.min.js"></script>
<script src="https://cdn.luogu.org/markdown-palettes/markdown-palettes.min.js?ver=20190219"></script>
<script src="https://cdn.luogu.org/js/luogu3.js?ver=20190101"></script>
</body>
</html>
