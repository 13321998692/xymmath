<!DOCTYPE html>
<html class="no-js">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title> P3536 [POI2012]BON-Vouchers - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1555852976:Ss0cIqU5LJq0cOckpm7U8B5XPpHbyYByjpIuynNI1LA=">
<link rel="stylesheet" href="https://cdn.luogu.org/css/amazeui.min.css"/>
<link rel="stylesheet" href="https://cdn.luogu.org/css/katex.min.css"/>
<link rel="stylesheet" href="https://cdn.luogu.org/css/luogu3.css?ver=20190102">
<link rel="stylesheet" href="https://cdn.luogu.org/css/highlight_tomorrow.css">
<link rel="stylesheet" href="https://cdn.luogu.org/markdown-palettes/markdown-palettes.css?ver=20190219">
<script src="https://cdn.luogu.org/js/jquery-2.1.1.min.js"></script>
<script src="https://cdn.luogu.org/js/luogu3_pre.js?ver=20190101"></script>
<link rel="shortcut icon" type="image/x-icon" href="https://cdn.luogu.org/images/favicon3.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.org/fe/loader.css?ver=20190417">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentUser%22%3Anull%2C%22currentTemplate%22%3A%22Excited%22%2C%22currentData%22%3A%7B%22shortHeader%22%3Afalse%2C%22pageName%22%3A%22%5Cu9898%5Cu76ee%5Cu8be6%5Cu60c5%22%7D%2C%22currentMeta%22%3A%7B%22title%22%3A%22%20P3536%20%5BPOI2012%5DBON-Vouchers%22%7D%7D"));</script>
<script>window._release = '20190417';</script>
<script src="https://cdn.luogu.org/fe/loader.js?ver=20190417" charset="utf-8" defer></script>
</head>
<body>
<div id="app-header"></div>
<nav id="app-sidenav"></nav>
<div id="app-body"></div>
<script>
    function scrollToId (id) {
        $('html, body').animate({
            scrollTop: ($('#' + id).offset().top)
        }, 500);
    }
</script>
<style>
    .lg-toolbar {
        display: none;
    }

    #app-body { /* Unused in fallback FE */
        display: none;
    }

    #app-body-new{
        display: block;
        margin-bottom: 2em;
        position: relative;
        box-sizing: border-box;
        max-width: 100%;
    }

    @media (min-width: 576px) {
        #app-body-new {
            margin-left: 70px;
        }
    }

    code {
        font-family: monospace, "Courier New";
    }

</style>
<div id="app-body-new">
<div class="lg-toolbar" data-am-sticky>
<h1><a href="/recordnew/lists?uid=&pid=P3536" target="_blank"><strong class=""><i class="am-icon-minus"></i></strong></a> P3536 [POI2012]BON-Vouchers</h1>
</div>
<div class="am-g lg-main-content">
<div class="am-u-md-4 lg-right" name="problemright">
<section class="am-panel am-panel-default lg-summary" id="psummary">
<div class="lg-summary-content">
<ul class="am-list am-list-static lg-summary-list">
<li>
<ul class="am-avg-sm-2"><li><span class="lg-bignum-num">55<small></small></span><span class="lg-bignum-text">通过</span></li><li><span class="lg-bignum-num">188<small></small></span><span class="lg-bignum-text">提交</span></li></ul>
</li>
<li>
<strong>题目提供者</strong>
<span class="lg-right"><a class='lg-fg-purple lg-bold' href="/space/show?uid=3" target="_blank">洛谷</a></span>
</li>
<li>
<strong>评测方式</strong>
<span class="lg-right"><b>云端评测</b></span>
</li>
<li><strong>标签</strong>
<span class="lg-tag am-badge am-radius lg-bg-pink am-hide" data-tagid="5">数论,数学</span>
<span class="lg-tag am-badge am-radius lg-bg-bluelight" data-tagid="57">POI</span>
<span class="lg-tag am-badge am-radius lg-bg-green" data-tagid="29">2012</span>
<style>.lg-tag { cursor: pointer; }</style>
<script>
                                $(".lg-tag").click(function() {
                                    window.open("/problemnew/lists?tag=" + $(this).attr('data-tagid'));
                                })
                            </script>
</li>
<li><strong>难度</strong>
<span class="lg-right"><span class="am-badge am-radius lg-bg-bluelight">提高+/省选-</span></span>
</li>
<li><strong>时空限制</strong>
<span class="lg-right">1000ms / 128MB</span>
</li>
</ul>
</div>
<p>
<button class="am-btn am-btn-danger am-btn-sm" id="submit" pid="P3536">
<i class="am-icon-paper-plane"></i> 提交
</button>
<a target="_blank" href="/problemnew/solution/P3536" class="am-btn am-btn-primary am-btn-sm">
<i class="am-icon-book"></i> 题解
</a>
<a data-pjax href="/recordnew/lists?pid=P3536" class="am-btn am-btn-primary am-btn-sm" title="查看本题提交记录">
<i class="am-icon-pie-chart"></i>
</a>
<button class="am-btn am-btn-primary am-btn-sm lg-pointer" name="showtag" title="显示算法标签">
<i class="am-icon-tags"></i>
</button>
</p>
<li>提示：收藏到任务计划后，可在首页查看。</li>
<p>
<a class="am-btn am-btn-danger am-btn-sm" href="/fe/problem/P3536" target="_blank">体验新版界面</a>
</p>
</section>
<section class="am-panel am-panel-default lg-summary">
<h2>最新讨论
<a onclick="$('#discuss-lists').show();$(this).hide();" class="am-btn am-btn-primary am-btn-sm lg-right" title="查看本题讨论">
显示
</a>
</h2>
<ul class="am-list am-list-static lg-summary-list" style="display: none" id="discuss-lists">
<li><a data-pjax href="/discuss/show?postid=85196" class="am-padding-0">翻译有误</a>
</li>
<li><a data-pjax href="/discuss/show?postid=42790" class="am-padding-0">一个你应该看的懂的翻译</a>
</li>
<li><a data-pjax href="/discuss/show?postid=35603" class="am-padding-0">这翻译不靠谱啊。。根本看不…</a>
</li>
<div style="overflow: auto">
<a data-pjax href="/discuss/lists?forumname=P3536" class="am-btn am-btn-primary am-btn-sm lg-right">进入讨论版</a>
</div>
</ul>
</section>
<section class="am-panel am-panel-default lg-summary am-hide-sm">
<h2>推荐的相关题目
<a onclick="$('#recommendation-list').show();$(this).hide();" class="am-btn am-btn-primary am-btn-sm lg-right" title="查看推荐题目">
显示
</a>
</h2>
<ul class="am-list am-list-static lg-summary-list" id="recommendation-list" style="display: none">
<li>
<a class='colored' href="/problemnew/show/P3539" target="_blank"><b>P3539</b> [POI2012]ROZ-Fibonacci Representation</a>
</li>
<li>
<a class='colored' href="/problemnew/show/P3537" target="_blank"><b>P3537</b> [POI2012]SZA-Cloakroom</a>
</li>
<li>
<a class='colored' href="/problemnew/show/P3566" target="_blank"><b>P3566</b> [POI2014]KLO-Bricks</a>
</li>
<li>
<a class='colored' href="/problemnew/show/P2344" target="_blank"><b>P2344</b> 奶牛抗议</a>
</li>
<li>
<a class='colored' href="/problemnew/show/P3007" target="_blank"><b>P3007</b> [USACO11JAN]大陆议会The Continental Cowngress</a>
</li>
</ul>
</section>
</div>
<div class="am-u-md-8 lg-right" name="problemleft">
<div class="lg-content-left">
<div class="lg-article am-g">
<h2>题意翻译</h2>
<h1>题目描述</h1>
<p>Byteasar的糖果店有很美味的焦糖糖果卖。</p>
<p>对于每一个正整数C，保证有且仅有一个包裹包含c个糖果。</p>
<p>为了鼓励顾客们购买美味的糖果，Byteasar制作了m个代金券，并且保证每个包裹里都最多只有1张代金券。（一个包裹里有可能没有代金券）</p>
<p>Byteasar的购物狂欢节将于下周在Byteburg举行，并且将持续n天：在狂欢节的第k天会举办一个有a[k]个客人参加的party。</p>
<p>Byteasar对于第k天的早晨每个客人都会买东西这件事总是有着蜜汁自信（我也不知道为什么）。在第n天里，包含y×a[n]个糖果的包裹能够依次卖出（x为正整数）。举个栗子：如果n=2,a1=4，a2=2,那么在购物狂欢节的第一天，含有4（即a[1]）×1,4×2,4×3，4×4……个糖果的包裹能够卖出去，在第二天含有2（即a[2])×1个和2×3……个糖果的包裹能够卖出去。(因为2×2的包裹第一天已经被买走了）</p>
<p>现在Byteasar想要知道哪些顾客会拿到代金券。</p>
<p>他想要你编写一个程序来帮他解决问题。</p>
<h1>输入输出格式</h1>
<h2>输入格式：</h2>
<p>第一行输入一个正整数m ( 1≤m≤1 000 000），代表代金券的张数。</p>
<p>接下来m行的第k行有一个正整数b[k]，代表被Byteasar放入了代金券的包裹中的糖果数量。</p>
<p>数据保证以单调递增的形式给出。</p>
<p>接下来一行输入一个整数n,表示购物狂欢节的天数。</p>
<p>接下来n行的第k行有一个正整数a[k]表示参加第k天购物狂欢节的客人数量。</p>
<p>保证至少有50%以上的测试点所有的数值都不会大于5000（所以……这是暴力分？）</p>
<h2>输出格式：</h2>
<p>第一行输出一个整数z表示有z个含有代金券的包裹被售出。</p>
<p>接下来z行以单调递增的形式给出拿到代金券的客人编号。</p>
<p>顾客从第一天的第一个开始编号，一直到最后一天的最后一名顾客</p>
<p>由 @姜澜 提供翻译 @Wolfycz提供建议</p>
<h2>题目描述</h2>
<p>The candy shop owned by Byteasar sells delicious caramel candy.</p>
<p>For every positive integer $c$ there is exactly one package that contains $c$ candies; currently no new deliveries are expected.</p>
<p>To encourage customers to buy the sweets, Byteasar has planted $m$ vouchers for an annual supply of chocolate into some packages, making sure to put at most one voucher in each package.</p>
<p>The carnival starts next week in Byteburg, and it will last $n$ days; on the $k$-th day of the carnival a party with $a_k$ guests will be held.</p>
<p>Byteasar is confident that on the $k$-th day's morning each of those guests is going to buy, in his own store, the smallest package of candy available whose content can be equally distributed between the party guests. For example, if $n=2$, $a_1=4$, $a_2=2$, then on the first day of the carnival he expects to sell the packages containing four, eight, twelve, and sixteen candies, selling those with two and six candies on the second day.</p>
<p>Now he is wondering which customers will end up with the packages holding the vouchers.</p>
<p>He has asked you to write a program that will determine this for him.</p>
<p>定义n个数为幸运数字，一共有n批人，设第i批人有x个，则它们会依次取走余下的x的倍数中最小的x个，问哪些人去走了幸运数字</p>
<h2>输入输出格式</h2>
<strong>输入格式：</strong><br>
<p><p>On the first line of the standard input there is a single integer $m$ ($1\le m\le 1\ 000\ 000$) that denotes the number of vouchers.</p>
<p>The $k$-th of the $m$ lines that follow holds an integer $b_k$ ($1\le b_k\le 1\ 000\ 000$)denoting the size (i.e., the number of candies inside) of a package in which Byteasar has placed the $k$-th voucher.</p>
<p>These numbers are given in an increasing order.</p>
<p>Then the next line contains a single integer $n$ ($1\le n\le 1\ 000\ 000$) that denotes the number of carnival days.</p>
<p>The $k$-th of the $n$ lines that follow holds an integer $a_k$($1\le a_k\le 1\ 000\ 000$)denoting the number of guests attending the $k$-th party.</p>
<p>You may assume that in tests worth at least 50% of the total points none of the numbers given on the input exceeds $5\ 000$.</p></p>
<strong>输出格式：</strong><br>
<p><p>In the first line of the standard output your program should print an integer $z$ - the number of packages with vouchers sold.</p>
<p>The following $z$ lines should specify the numbers of those customers who bought a package with a voucher, in an increasing order.</p>
<p>The customers are numbered from $1$ in the order of their purchases.</p></p>
<h2>输入输出样例</h2>
<div class="am-g">
<div class="am-u-md-6 copy-region">
<strong>输入样例#1：</strong>
<a class="am-badge am-radius lg-bg-orange sample-copy">复制</a>
<pre>4
1
6
8
16
3
4
2
4</pre>
</div>
<div class="am-u-md-6 copy-region">
<strong>输出样例#1：</strong>
<a class="am-badge am-radius lg-bg-orange sample-copy">复制</a>
<pre>3
2
4
6</pre>
</div>
</div>
</div>
<div class='lg-article-sub am-g' id="sub"></div>
</div>
</div>
</div>
<div class="am-modal am-modal-prompt" tabindex="-1" id="confirm">
<div class="am-modal-dialog">
<div class="am-modal-hd" id="memtitle">提示</div>
<div class="am-modal-bd" id="memadmin">
标程仅供做题后或实在无思路时参考。<br>
请自觉、自律地使用该功能并请对自己的学习负责。<br>
如果发现恶意抄袭标程，将按照I类违反进行处理。<br>
</div>
<div class="am-modal-footer">
<span class="am-modal-btn" data-am-modal-cancel>取消</span>
<span class="am-modal-btn" data-am-modal-confirm>确定</span>
</div>
</div>
</div>
<script>
        $(document).ready(function () {
            $("#expandstd").click(function () {
                $('#confirm').modal({
                    relatedTarget: this,
                    onConfirm: function (e) {
                        $("#stdcode").slideDown();
                        $("#expandstd").hide();
                    }
                });
            });
            $("#submit").click(
                function () {
                    hide_artile();
                    $(document).scrollTop($(document).scrollTop() - 80);
                    var pid = $(this).attr("pid");
                    $.get("/problem/ajax_submit?pid=" + pid, function (data) {
                        var arr = eval('(' + data + ')');
                        if (arr['code'] == 201) {
                            $('.lg-article-sub').html(arr['more']['html']);
                        }
                        else if (arr['code'] == 200) {

                        }
                        else {
                            if (arr['code'] == 0 || arr['code'] == -3) {
                                backarticle();
                            }
                            show_alert("提交失败", arr['message']);
                        }
                    });
                }
            );
            $("button[title].am-btn,a[title].am-btn").poshytip({
                className: 'tip-twitter',
                showTimeout: 1,
                alignTo: 'target',
                alignX: 'center',
                alignY: 'bottom'
            });
            $('[name=showtag]').click(function () {
                $('.am-badge.am-hide').removeClass('am-hide');
            });
            $(".sample-copy").click(function() {
                var element = $(this).parents(".copy-region").find("pre");
                var text = $(element).text();
                var $temp = $("<textarea>");
                $("body").append($temp);
                $temp.val(text).select();
                document.execCommand("copy");
                $temp.remove();
                $(this).text("复制成功").removeClass("lg-bg-orange");

                var e = this;
                setTimeout(function() {
                    $(e).text("复制").addClass("lg-bg-orange");
                }, 500);
            });
        });
    </script>
</div>
<footer id="app-footer"></footer>
<div class="am-modal am-modal-alert" tabindex="-1" id="lg-alert">
<div class="am-modal-dialog">
<div class="am-modal-hd" id="lg-alert-title"></div>
<div class="am-modal-bd" id="lg-alert-message"></div>
<div class="am-modal-footer">
<span class="am-modal-btn">确定</span>
</div>
</div>
</div>
<script src="/js/ace/ace.js"></script>
<script src="https://cdn.luogu.org/js/vendor.js" data-manual></script>
<script src="https://cdn.luogu.org/js/jsmind.js" data-manual></script>
<script src="https://cdn.luogu.org/js/amazeui.min.js"></script>
<script src="https://cdn.luogu.org/js/highcharts.js"></script>
<script src="https://cdn.luogu.org/js/highcharts-more.js"></script>
<script src="/static/katex/katex.min.js"></script>
<script src="/static/katex/contrib/auto-render.min.js"></script>
<script src="https://cdn.luogu.org/markdown-palettes/markdown-palettes.min.js?ver=20190219"></script>
<script src="https://cdn.luogu.org/js/luogu3.js?ver=20190101"></script>
</body>
</html>
