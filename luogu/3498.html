<!DOCTYPE html>
<html class="no-js">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title> P3498 [POI2010]KOR-Beads - 洛谷</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="renderer" content="webkit">
<meta name="csrf-token" content="1555852944:oF+pmyysWeREbJfdpfJdiuWEjuwkll7mTwWdRCPmBkk=">
<link rel="stylesheet" href="https://cdn.luogu.org/css/amazeui.min.css"/>
<link rel="stylesheet" href="https://cdn.luogu.org/css/katex.min.css"/>
<link rel="stylesheet" href="https://cdn.luogu.org/css/luogu3.css?ver=20190102">
<link rel="stylesheet" href="https://cdn.luogu.org/css/highlight_tomorrow.css">
<link rel="stylesheet" href="https://cdn.luogu.org/markdown-palettes/markdown-palettes.css?ver=20190219">
<script src="https://cdn.luogu.org/js/jquery-2.1.1.min.js"></script>
<script src="https://cdn.luogu.org/js/luogu3_pre.js?ver=20190101"></script>
<link rel="shortcut icon" type="image/x-icon" href="https://cdn.luogu.org/images/favicon3.ico" media="screen"/>
<link rel="stylesheet" href="https://cdn.luogu.org/fe/loader.css?ver=20190417">
<script>window._feInjection = JSON.parse(decodeURIComponent("%7B%22code%22%3A200%2C%22currentUser%22%3Anull%2C%22currentTemplate%22%3A%22Excited%22%2C%22currentData%22%3A%7B%22shortHeader%22%3Afalse%2C%22pageName%22%3A%22%5Cu9898%5Cu76ee%5Cu8be6%5Cu60c5%22%7D%2C%22currentMeta%22%3A%7B%22title%22%3A%22%20P3498%20%5BPOI2010%5DKOR-Beads%22%7D%7D"));</script>
<script>window._release = '20190417';</script>
<script src="https://cdn.luogu.org/fe/loader.js?ver=20190417" charset="utf-8" defer></script>
</head>
<body>
<div id="app-header"></div>
<nav id="app-sidenav"></nav>
<div id="app-body"></div>
<script>
    function scrollToId (id) {
        $('html, body').animate({
            scrollTop: ($('#' + id).offset().top)
        }, 500);
    }
</script>
<style>
    .lg-toolbar {
        display: none;
    }

    #app-body { /* Unused in fallback FE */
        display: none;
    }

    #app-body-new{
        display: block;
        margin-bottom: 2em;
        position: relative;
        box-sizing: border-box;
        max-width: 100%;
    }

    @media (min-width: 576px) {
        #app-body-new {
            margin-left: 70px;
        }
    }

    code {
        font-family: monospace, "Courier New";
    }

</style>
<div id="app-body-new">
<div class="lg-toolbar" data-am-sticky>
<h1><a href="/recordnew/lists?uid=&pid=P3498" target="_blank"><strong class=""><i class="am-icon-minus"></i></strong></a> P3498 [POI2010]KOR-Beads</h1>
</div>
<div class="am-g lg-main-content">
<div class="am-u-md-4 lg-right" name="problemright">
<section class="am-panel am-panel-default lg-summary" id="psummary">
<div class="lg-summary-content">
<ul class="am-list am-list-static lg-summary-list">
<li>
<ul class="am-avg-sm-2"><li><span class="lg-bignum-num">336<small></small></span><span class="lg-bignum-text">通过</span></li><li><span class="lg-bignum-num">947<small></small></span><span class="lg-bignum-text">提交</span></li></ul>
</li>
<li>
<strong>题目提供者</strong>
<span class="lg-right"><a class='lg-fg-purple lg-bold' href="/space/show?uid=3" target="_blank">洛谷</a></span>
</li>
<li>
<strong>评测方式</strong>
<span class="lg-right"><b>云端评测</b></span>
</li>
<li><strong>标签</strong>
<span class="lg-tag am-badge am-radius lg-bg-pink am-hide" data-tagid="235">哈希,HASH</span>
<span class="lg-tag am-badge am-radius lg-bg-pink am-hide" data-tagid="111">枚举,暴力</span>
<span class="lg-tag am-badge am-radius lg-bg-bluelight" data-tagid="57">POI</span>
<span class="lg-tag am-badge am-radius lg-bg-green" data-tagid="27">2010</span>
<span class="lg-tag am-badge am-radius lg-bg-orange" data-tagid="319">高性能</span>
<style>.lg-tag { cursor: pointer; }</style>
<script>
                                $(".lg-tag").click(function() {
                                    window.open("/problemnew/lists?tag=" + $(this).attr('data-tagid'));
                                })
                            </script>
</li>
<li><strong>难度</strong>
<span class="lg-right"><span class="am-badge am-radius lg-bg-bluelight">提高+/省选-</span></span>
</li>
<li><strong>时空限制</strong>
<span class="lg-right">1000ms / 128MB</span>
</li>
</ul>
</div>
<p>
<button class="am-btn am-btn-danger am-btn-sm" id="submit" pid="P3498">
<i class="am-icon-paper-plane"></i> 提交
</button>
<a target="_blank" href="/problemnew/solution/P3498" class="am-btn am-btn-primary am-btn-sm">
<i class="am-icon-book"></i> 题解
</a>
<a data-pjax href="/recordnew/lists?pid=P3498" class="am-btn am-btn-primary am-btn-sm" title="查看本题提交记录">
<i class="am-icon-pie-chart"></i>
</a>
<button class="am-btn am-btn-primary am-btn-sm lg-pointer" name="showtag" title="显示算法标签">
<i class="am-icon-tags"></i>
</button>
</p>
<li>提示：收藏到任务计划后，可在首页查看。</li>
<p>
<a class="am-btn am-btn-danger am-btn-sm" href="/fe/problem/P3498" target="_blank">体验新版界面</a>
</p>
</section>
<section class="am-panel am-panel-default lg-summary">
<h2>最新讨论
<a onclick="$('#discuss-lists').show();$(this).hide();" class="am-btn am-btn-primary am-btn-sm lg-right" title="查看本题讨论">
显示
</a>
</h2>
<ul class="am-list am-list-static lg-summary-list" style="display: none" id="discuss-lists">
<li><a data-pjax href="/discuss/show?postid=108192" class="am-padding-0">关于哈希秘钥</a>
</li>
<li><a data-pjax href="/discuss/show?postid=74370" class="am-padding-0">为什么哈希表没有不判冲突的…</a>
</li>
<li><a data-pjax href="/discuss/show?postid=9320" class="am-padding-0">给大家看一个80分的程序</a>
</li>
<div style="overflow: auto">
<a data-pjax href="/discuss/lists?forumname=P3498" class="am-btn am-btn-primary am-btn-sm lg-right">进入讨论版</a>
</div>
</ul>
</section>
<section class="am-panel am-panel-default lg-summary am-hide-sm">
<h2>推荐的相关题目
<a onclick="$('#recommendation-list').show();$(this).hide();" class="am-btn am-btn-primary am-btn-sm lg-right" title="查看推荐题目">
显示
</a>
</h2>
<ul class="am-list am-list-static lg-summary-list" id="recommendation-list" style="display: none">
<li>
<a class='colored' href="/problemnew/show/P3501" target="_blank"><b>P3501</b> [POI2010]ANT-Antisymmetry</a>
</li>
<li>
<a class='colored' href="/problemnew/show/P3538" target="_blank"><b>P3538</b> [POI2012]OKR-A Horrible Poem</a>
</li>
<li>
<a class='colored' href="/problemnew/show/SP15569" target="_blank"><b>SP15569</b> STC02 - Antisymmetry</a>
</li>
<li>
<a class='colored' href="/problemnew/show/P3435" target="_blank"><b>P3435</b> [POI2006]OKR-Periods of Words</a>
</li>
<li>
<a class='colored' href="/problemnew/show/P3065" target="_blank"><b>P3065</b> [USACO12DEC]第一!First!</a>
</li>
</ul>
</section>
</div>
<div class="am-u-md-8 lg-right" name="problemleft">
<div class="lg-content-left">
<div class="lg-article am-g">
<h2>题目描述</h2>
<p>Byteasar once decided to start manufacturing necklaces.</p>
<p>He subsequently bought a very long string of colourful coral beads for a bargain price.</p>
<p>Byteasar now also has a machine that, for a given <img src="http://main.edu.pl/images/OI17/kor-en-tex.1.png" alt="" /> (<img src="http://main.edu.pl/images/OI17/kor-en-tex.2.png" alt="" />), can cut the string into pieces (or substrings) of <img src="http://main.edu.pl/images/OI17/kor-en-tex.3.png" alt="" /> coral beads (i.e., the first piece consists of the beads no.</p>
<p><img src="http://main.edu.pl/images/OI17/kor-en-tex.4.png" alt="" />, the second of <img src="http://main.edu.pl/images/OI17/kor-en-tex.5.png" alt="" />, etc.).</p>
<p>If the length of the string (measured in coral beads) is not a multiple of <img src="http://main.edu.pl/images/OI17/kor-en-tex.6.png" alt="" />, then the last piece is not used, as it has length smaller than <img src="http://main.edu.pl/images/OI17/kor-en-tex.7.png" alt="" />.</p>
<p>From now on we denote the colours of the beads with positive integers.</p>
<p>Byteasar, always praising diversity, wonders how he should choose the number <img src="http://main.edu.pl/images/OI17/kor-en-tex.8.png" alt="" /> in order to get as many different substrings as possible.</p>
<p>The ends of the long string that will be cut are different: there are specific beginning and ending (rather than two interchangeable endpoints), and the machine of course starts cutting at the beginning. On the other hand, in the substrings obtained from cutting the endpoints are interchangeable, and so the substrings can be reversed. In other words, the substrings <img src="http://main.edu.pl/images/OI17/kor-en-tex.9.png" alt="" /> and <img src="http://main.edu.pl/images/OI17/kor-en-tex.10.png" alt="" /> are identical to us. Write a program that determines the optimum value of <img src="http://main.edu.pl/images/OI17/kor-en-tex.11.png" alt="" /> for Byteasar.</p>
<p>Zxl有一次决定制造一条项链，她以非常便宜的价格买了一长条鲜艳的珊瑚珠子，她现在也有一个机器，能把这条珠子切成很多块（子串），每块有k（k&gt;0）个珠子，如果这条珠子的长度不是k的倍数，最后一块小于k的就不要拉（nc真浪费），保证珠子的长度为正整数。 Zxl喜欢多样的项链，为她应该怎样选择数字k来尽可能得到更多的不同的子串感到好奇，子串都是可以反转的，换句话说，子串（1，2，3）和（3,2,1）是一样的。写一个程序，为Zxl决定最适合的k从而获得最多不同的子串。 例如：这一串珠子是： (1,1,1,2,2,2,3,3,3,1,2,3,3,1,2,2,1,3,3,2,1)， k=1的时候，我们得到3个不同的子串： (1),(2),(3) k=2的时候，我们得到6个不同的子串： (1,1),(1,2),(2,2),(3,3),(3,1),(2,3) k=3的时候，我们得到5个不同的子串： (1,1,1),(2,2,2),(3,3,3),(1,2,3),(3,1,2) k=4的时候，我们得到5个不同的子串： (1,1,1,2),(2,2,3,3),(3,1,2,3),(3,1,2,2),(1,3,3,2)</p>
<h2>输入输出格式</h2>
<strong>输入格式：</strong><br>
<p><p>In the first line of the standard input there is an integer <img src="http://main.edu.pl/images/OI17/kor-en-tex.37.png" alt="" /> (<img src="http://main.edu.pl/images/OI17/kor-en-tex.38.png" alt="" />) denoting the length of the string to cut.</p>
<p>In the second line there are <img src="http://main.edu.pl/images/OI17/kor-en-tex.39.png" alt="" /> positive integers <img src="http://main.edu.pl/images/OI17/kor-en-tex.40.png" alt="" /> (<img src="http://main.edu.pl/images/OI17/kor-en-tex.41.png" alt="" />), separated by single spaces, that denote the colours of successive beads in Byteasar's string.</p></p>
<strong>输出格式：</strong><br>
<p><p>Two integers, separated by a single space, should be printed out to the first line of the standard ouput:</p>
<p>the (maximum) number of different substrings that can be obtained with an optimal choice of parameter <img src="http://main.edu.pl/images/OI17/kor-en-tex.42.png" alt="" />, and the number <img src="http://main.edu.pl/images/OI17/kor-en-tex.43.png" alt="" /> of such optimal values of <img src="http://main.edu.pl/images/OI17/kor-en-tex.44.png" alt="" />.</p>
<p>The second line should contain <img src="http://main.edu.pl/images/OI17/kor-en-tex.45.png" alt="" /> integers separated by single spaces:</p>
<p>the values of parameter <img src="http://main.edu.pl/images/OI17/kor-en-tex.46.png" alt="" /> that yield an optimum solution; these can be given in arbitrary order.</p></p>
<h2>输入输出样例</h2>
<div class="am-g">
<div class="am-u-md-6 copy-region">
<strong>输入样例#1：</strong>
<a class="am-badge am-radius lg-bg-orange sample-copy">复制</a>
<pre>21
1 1 1 2 2 2 3 3 3 1 2 3 3 1 2 2 1 3 3 2 1</pre>
</div>
<div class="am-u-md-6 copy-region">
<strong>输出样例#1：</strong>
<a class="am-badge am-radius lg-bg-orange sample-copy">复制</a>
<pre>6 1
2</pre>
</div>
</div>
</div>
<div class='lg-article-sub am-g' id="sub"></div>
</div>
</div>
</div>
<div class="am-modal am-modal-prompt" tabindex="-1" id="confirm">
<div class="am-modal-dialog">
<div class="am-modal-hd" id="memtitle">提示</div>
<div class="am-modal-bd" id="memadmin">
标程仅供做题后或实在无思路时参考。<br>
请自觉、自律地使用该功能并请对自己的学习负责。<br>
如果发现恶意抄袭标程，将按照I类违反进行处理。<br>
</div>
<div class="am-modal-footer">
<span class="am-modal-btn" data-am-modal-cancel>取消</span>
<span class="am-modal-btn" data-am-modal-confirm>确定</span>
</div>
</div>
</div>
<script>
        $(document).ready(function () {
            $("#expandstd").click(function () {
                $('#confirm').modal({
                    relatedTarget: this,
                    onConfirm: function (e) {
                        $("#stdcode").slideDown();
                        $("#expandstd").hide();
                    }
                });
            });
            $("#submit").click(
                function () {
                    hide_artile();
                    $(document).scrollTop($(document).scrollTop() - 80);
                    var pid = $(this).attr("pid");
                    $.get("/problem/ajax_submit?pid=" + pid, function (data) {
                        var arr = eval('(' + data + ')');
                        if (arr['code'] == 201) {
                            $('.lg-article-sub').html(arr['more']['html']);
                        }
                        else if (arr['code'] == 200) {

                        }
                        else {
                            if (arr['code'] == 0 || arr['code'] == -3) {
                                backarticle();
                            }
                            show_alert("提交失败", arr['message']);
                        }
                    });
                }
            );
            $("button[title].am-btn,a[title].am-btn").poshytip({
                className: 'tip-twitter',
                showTimeout: 1,
                alignTo: 'target',
                alignX: 'center',
                alignY: 'bottom'
            });
            $('[name=showtag]').click(function () {
                $('.am-badge.am-hide').removeClass('am-hide');
            });
            $(".sample-copy").click(function() {
                var element = $(this).parents(".copy-region").find("pre");
                var text = $(element).text();
                var $temp = $("<textarea>");
                $("body").append($temp);
                $temp.val(text).select();
                document.execCommand("copy");
                $temp.remove();
                $(this).text("复制成功").removeClass("lg-bg-orange");

                var e = this;
                setTimeout(function() {
                    $(e).text("复制").addClass("lg-bg-orange");
                }, 500);
            });
        });
    </script>
</div>
<footer id="app-footer"></footer>
<div class="am-modal am-modal-alert" tabindex="-1" id="lg-alert">
<div class="am-modal-dialog">
<div class="am-modal-hd" id="lg-alert-title"></div>
<div class="am-modal-bd" id="lg-alert-message"></div>
<div class="am-modal-footer">
<span class="am-modal-btn">确定</span>
</div>
</div>
</div>
<script src="/js/ace/ace.js"></script>
<script src="https://cdn.luogu.org/js/vendor.js" data-manual></script>
<script src="https://cdn.luogu.org/js/jsmind.js" data-manual></script>
<script src="https://cdn.luogu.org/js/amazeui.min.js"></script>
<script src="https://cdn.luogu.org/js/highcharts.js"></script>
<script src="https://cdn.luogu.org/js/highcharts-more.js"></script>
<script src="/static/katex/katex.min.js"></script>
<script src="/static/katex/contrib/auto-render.min.js"></script>
<script src="https://cdn.luogu.org/markdown-palettes/markdown-palettes.min.js?ver=20190219"></script>
<script src="https://cdn.luogu.org/js/luogu3.js?ver=20190101"></script>
</body>
</html>
